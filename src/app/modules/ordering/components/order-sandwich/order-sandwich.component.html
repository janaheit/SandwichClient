<div class="around-form">
<form *ngIf="nameForm" [formGroup]="nameForm" (ngSubmit)="submitName()">
<mat-form-field appearance="fill" class="order-sandwich" hideRequiredMarker="true">
    <mat-label>Enter your name</mat-label>
    <input matInput placeholder="Sjakie Schildpad" formControlName="name" >
    <mat-error >Your name is required!</mat-error>
  </mat-form-field>
  <button *ngIf="nameUnfilled" mat-raised-button color="primary" (click)="submitName()">Continue!</button>
</form>
  <div *ngIf="!nameUnfilled" class="wants-sandwich">
    <mat-label>Do you want a sandwich today? </mat-label>
    <button mat-raised-button color="primary" (click)="wantsSandwichHandle(true)" [disabled]="!wantsSandwichUnfilled">Yes</button><button mat-raised-button color="warn" (click)="wantsSandwichHandle(false)" [disabled]="!wantsSandwichUnfilled">No</button>
  </div>

  <div *ngIf="readyToViewSandwiches" class="remark-div">
    <table mat-table [dataSource]="dataSource" class="mat-elevation-z8">

      <ng-container matColumnDef="add">
        <th mat-header-cell *matHeaderCellDef> Choose </th>
        <td mat-cell *matCellDef="let element; let i = index;"><button mat-mini-fab color="primary" (click)="selectSandwich(element.id, i)" [disabled]="disabledAddButton"><mat-icon>add</mat-icon></button> </td>
      </ng-container>

      <ng-container matColumnDef="name">
        <th mat-header-cell *matHeaderCellDef> Name </th>
        <td mat-cell *matCellDef="let element"> {{element.name}} </td>
      </ng-container>

      <ng-container matColumnDef="description">
        <th mat-header-cell *matHeaderCellDef> Description </th>
        <td mat-cell *matCellDef="let element"> {{element.description}} </td>
      </ng-container>

      <ng-container matColumnDef="category">
        <th mat-header-cell *matHeaderCellDef> Category </th>
        <td mat-cell *matCellDef="let element"> {{element.category}} </td>
      </ng-container>


      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
    </table>

  </div>
  <div *ngIf="disabledAddButton" class="remark-div">
    <small>Select the breadtype of your choice! - </small>
    <mat-button-toggle-group name="Bread type" [(ngModel)]="chosenBreadtype" [disabled]="!breadAndOptionsUnfilled">
      <mat-button-toggle *ngFor="let breadType of todaysBreadtypes" value="{{breadType}}">{{breadType}}</mat-button-toggle>
    </mat-button-toggle-group>
  </div>
  <div *ngIf="chosenBreadtype" class="remark-div">
    <small>Select the options of your choice!</small>
    <mat-button-toggle-group name="Options" [(ngModel)]="chosenOptions" multiple [disabled]="!breadAndOptionsUnfilled">
      <mat-button-toggle *ngFor="let option of todaysOptions" value="{{option}}">{{option}}</mat-button-toggle>
    </mat-button-toggle-group>
    <button *ngIf="breadAndOptionsUnfilled" mat-raised-button color="primary" (click)="selectBreadtypeAndOptions()">Continue!</button>
  </div>

  <div *ngIf="timeForRemark" class="remark-div">
    <form *ngIf="remarkForm" [formGroup]="remarkForm" (ngSubmit)="submitRemark()">
      <mat-form-field appearance="fill" class="order-sandwich" hideRequiredMarker="true">
        <mat-label>Do you have a remark?</mat-label>
        <input matInput placeholder="Extra mayonaise for me please!" formControlName="remark" >
      </mat-form-field>
      <button *ngIf="remarkUnfilled" mat-raised-button color="primary" (click)="submitRemark()">Continue!</button>
    </form>
  </div>

  <div *ngIf="readyToSubmit" class="remark-div">
    <button mat-raised-button color="primary" (click)="submitOrder()">Order!</button>
  </div>
</div>
